# Overview

BeamFi is developed using Motoko programming language running entirely on Internet Computer Canisters. Beam canister utilizes IC Timer API to drive the canister to process the active beams. For each beam, it computes the creator's claimable allocation of tokens at that moment of time and calls BeamEscrow canister to update the EscrowContract.

Currently, BeamFi supports two types of tokens: ICP and XTC with potential of adding more tokens like native Bitcoin or ckBTC (Chain Key Bitcoin) in the future.

## Architecture

In terms of architecture, we applied a clear separation of roles in which Beam canister's role is to work out when, how and what to manipulate on the EscrowContract while carrying no ownership of token e.g ICP or XTC at all. BeamEscrowt canister on the other hand carries the main role of taking the ownership of tokens deposited by buyers. It requires a much higher level of security measures and asserts a number of invariants to make sure it is solvent in terms of all escrow payments stored for each EscrowContract and its actual ownership of token in the ICP / XTC ledger.

![BeamFi Architecture](/architecture.png)
BeamFi Architecture Diagram

## Core Mechanism

Rather than making a payment to the creator's wallet each second (which is costly), the smart contract adjusts the ownership of the funds inside the Canister and unlocks the creator-owned funds for claiming.

Both the buyer and creator can view the live status of the Beam payment through the API as it updates in real-time. Creator can claim fund through API.
